READ ME file for RQ1


--------------------------------------------------------------------------------------------------------------------------
IMPORTANT: 

- Stan code runs of stan package CmdStanPy 1.2.5 and uses Python 3.9.21
- All other code is run in Python 3.12.5

--------------------------------------------------------------------------------------------------------------------------
Input data:
-CALIPSO POC data is currently unreleased (Ramondenc, in prep)
-input chla can be downloaded from: https://www.oceancolour.org/  ESA (Sathyendranath et al., 2019)
-imput sst can be downloaded from: https://doi.org/10.5065/r33v-sv91 NOAA (Hurrell. et al., 2020)
Note: SST is in 0-360 format. This can be can be converted easily (see code lines 54-59 in create_dataset_2606.py)
- euphotic depth, available as a .mat file from https://github.com/bbcael/eifoc
--------------------------------------------------------------------------------------------------------------------------
Stan files:

stan_no_sigvar.stan
- CURRENTLY UNUSED 
- generates a stan model where sigma == 0.0001

stan_sigvar.stan
- generates an output of the model where sigma varies

--------------------------------------------------------------------------------------------------------------------------
Code Files:

ORDER OF USE IS AS LISTED

1.

create_dataset_2606.py 
- Creates a matched dataframe of the oc-cci product, temperature product and CALIPSO POC database
- saves as a csv

2.

stan_no_sigvar.py 
- CURRENTLY UNUSED 
- loads stan model stan_no_sigvar.stan
- generates an output of the model where sigma == 0.0001

3.

stan_varying_sig_final.py 
- loads stan model that has sigma that varies with x stan_sigvar.stan
- generates an output of the model where sigma varies

4.

exploring_data_and_stanoutput_2505.ipynb
- the distribution of the input data into stan
- the output of the stan model posteriors
- the datasets generated by the stan model
- Creates: 
    - map of distribution of input data
    - histograms and scatterplots of input data
    - posterior vs posterior plots
    - Violin plots of posteriors
    - scatterplot of residualasand generated database
    - histograms, kdes, cumulative and boxplots of distribution of modelled vs actual POC

 5.

 making_climatologies.py
- makes climatologies of SST, and z-eu that are monthly and overall 
- regrid chla to the grid of SST and make climatology of monthly and overall
- use datasets limited to when there are matches.

6.

climatologies_maps.py
- in the making!
